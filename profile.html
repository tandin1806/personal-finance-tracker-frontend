<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profile - Personal Finance Tracker</title>

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Your Custom CSS -->
  <link rel="stylesheet" href="profile.css" />
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo-area">
      <img src="logo.jpg" alt="Logo" class="logo" />
      <h5>Settings</h5>
    </div>

    <nav class="nav flex-column mt-4 w-100">
      <a href="dashboard.html" class="nav-item"><i class="bi bi-house"></i><span>Home</span></a>
      <!-- Edit Profile triggers confirmation modal -->
      <a href="#" id="edit-profile-link" class="nav-item"><i class="bi bi-pencil-square"></i><span>Edit Profile</span></a>
      <a href="#" id="achievement-link" class="nav-item"><i class="bi bi-award"></i><span>Achievement</span></a>
      <a href="security.html" class="nav-item" id="security-link"><i class="bi bi-lock"></i><span>Security</span></a>
    </nav>

    <div class="logout">
      <a href="#" id="logout-btn" class="nav-item"><i class="bi bi-box-arrow-right"></i><span>Logout</span></a>
    </div>
  </div>

  <!-- Content -->
  <div class="content">
    <h2 class="text-center mb-4">Profile</h2>

    <!-- Profile View (initially visible) -->
    <div class="profile-view" id="profile-view-section">
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" width="80" class="rounded-circle mb-3" alt="Profile Picture" />
      <h4 class="mb-3">Welcome Back, User!</h4>

      <div class="profile-info text-start mx-auto" style="max-width: 500px;">
        <p><strong>Full Name:</strong> <span id="view-name">John Doe</span></p>
        <p><strong>Phone Number:</strong> <span id="view-phone">+1234567890</span></p>
        <p><strong>Email Address:</strong> <span id="view-email">john@example.com</span></p>
        <p><strong>Address:</strong> <span id="view-address">123 Main Street</span></p>
        <p><strong>Occupation:</strong> <span id="view-occupation">Student</span></p>
        <p><strong>Bio:</strong> <span id="view-bio">This is a short bio about me.</span></p>
      </div>

      <div class="text-center mt-3">
        <button id="edit-profile-btn" class="btn btn-primary">Edit Profile</button>
      </div>
    </div>

    <!-- Profile Edit Form (hidden initially) -->
    <div class="profile-box" id="profile-section" style="display:none;">
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" width="80" class="rounded-circle mb-3" alt="Profile Picture" />
      <h4 class="mb-3">Edit Your Profile</h4>

      <form>
        <input type="text" placeholder="Full Name" id="name" />
        <input type="text" placeholder="Phone Number" id="phone" />
        <input type="email" placeholder="Email Address" id="email" />
        <input type="password" placeholder="Password" id="password" />
        <input type="text" placeholder="Address" id="address" />
        <select id="occupation">
          <option value="">Select Occupation</option>
          <option value="student">Student</option>
          <option value="teacher">Teacher</option>
          <option value="employee">Employee</option>
        </select>
        <textarea id="bio" placeholder="Write something about yourself..." rows="3"></textarea>

        <div class="d-flex justify-content-between mt-3">
          <button type="button" id="cancel-edit-btn" class="btn btn-secondary">Cancel</button>
          <button type="button" id="update-btn" class="btn btn-success">Update</button>
        </div>
      </form>
    </div>

    <!-- Achievements Section -->
    <div id="achievement-section" class="mt-5" style="display:none;">
      <h3 class="text-center mb-4">Achievements</h3>
      <div class="row justify-content-center g-4">
        <div class="col-md-4">
          <div class="achievement-card">
            <h5>Budget Master üèÜ</h5>
            <p>Earned after tracking your expenses consistently for 30 days.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="achievement-card">
            <h5>Savings Hero üí∞</h5>
            <p>Awarded for saving over 20% of your monthly income.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="achievement-card">
            <h5>Goal Setter üåü</h5>
            <p>Received after setting and completing 3 financial goals.</p>
          </div>
        </div>
      </div>
      <div class="text-center mt-4">
        <button id="back-btn" class="btn btn-outline-dark">Back to Profile</button>
      </div>
    </div>
  </div>

  <!-- Achievement Popup Modal -->
  <div class="modal fade" id="achievementModal" tabindex="-1" aria-labelledby="achievementModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-success text-white">
          <h5 class="modal-title" id="achievementModalLabel">Achievement Unlocked!</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="achievementModalBody">
          <!-- Achievement details go here -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">Awesome!</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Security Info Modal (placeholder) -->
  <div class="modal fade" id="securityModal" tabindex="-1" aria-labelledby="securityModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="securityModalLabel">Security Info</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="securityModalBody">
          This is a placeholder for security-related info or actions.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div class="modal fade" id="logoutConfirmModal" tabindex="-1" aria-labelledby="logoutConfirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-warning text-dark">
          <h5 class="modal-title" id="logoutConfirmModalLabel">Confirm Logout</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to logout?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" id="confirm-logout-btn" class="btn btn-danger">Logout</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Profile Confirmation Modal -->
  <div class="modal fade" id="editConfirmModal" tabindex="-1" aria-labelledby="editConfirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-info text-white">
          <h5 class="modal-title" id="editConfirmModalLabel">Confirm Edit</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to edit your profile?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" id="confirm-edit-btn" class="btn btn-primary">Yes, Edit</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confetti container -->
  <div id="confetti-container" style="pointer-events:none; position:fixed; top:0; left:0; width:100%; height:100%; overflow:visible; z-index:1055;"></div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Your JS -->
  <script src="profile.js"></script>
</body>
</html>
